<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="uz" xml:lang="uz">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>Using template engines with Express</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">Using template engines with Express</h1>
    </header>
    <h1 id="using-template-engines-with-express">
      Using template engines with Express
    </h1>
    <p>
      Before Express can render template files, the following application
      settings have to be set.
    </p>
    <ul>
      <li>
        <code>views</code>, the directory where the template files are located.
        Eg: <code>app.set('views', './views')</code>
      </li>
      <li>
        <code>view engine</code>, the template engine to use. Eg:
        <code>app.set('view engine', 'pug')</code>
      </li>
    </ul>
    <p>Then install the corresponding template engine npm package.</p>
    <pre><code class="language-sh" translate="no">
$ npm install pug --save
</code></pre>
    <div class="doc-box doc-notice" data-markdown="1">
      <p>
        Express-compliant template engines such as Pug, export a function named
        <code>__express(filePath, options, callback)</code>, which is called by
        <code>res.render()</code> to render the template code.
      </p>
      <p>
        Some template engines do not follow this convention, the
        <a href="https://www.npmjs.org/package/consolidate">Consolidate.js</a>
        library was created to map all of node’s popular template engines to
        follow this convention, thus allowing them to work seamlessly within
        Express.
      </p>
    </div>
    <p>
      Once the view engine is set, you don’t have to explicitly specify the
      engine or load the template engine module in your app, Express loads it
      internally as shown below, for the example above.
    </p>
    <pre><code class="language-javascript" translate="no">
app.set('view engine', 'pug');
</code></pre>
    <p>
      Create a Pug template files named “index.pug” in the views directory, with
      the following content.
    </p>
    <pre><code class="language-javascript" translate="no">
html
  head
    title= title
  body
    h1= message
</code></pre>
    <p>
      Then create a route to render the “index.pug” file. If the
      <code>view engine</code> property is not set, you will have to specify the
      extension of the view file, else you can omit it.
    </p>
    <pre><code class="language-javascript" translate="no">
app.get('/', function (req, res) {
  res.render('index', { title: 'Hey', message: 'Hello there!'});
});
</code></pre>
    <p>
      On making a request to the home page, “index.pug” will be rendered as
      HTML.
    </p>
    <p>
      To better understand how template engines work in Express, read
      <a
        href="/%7B%7B%20page.lang%20%7D%7D/advanced/developing-template-engines.html"
        >“Developing template engines for Express”</a
      >.
    </p>
  </body>
</html>
