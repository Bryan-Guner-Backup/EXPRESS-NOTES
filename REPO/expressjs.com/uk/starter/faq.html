<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="uk" xml:lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>ЧАПи Express</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">ЧАПи Express</h1>
</header>
<h1 id="часті-питання-чапи">Часті Питання (ЧАПи)</h1>
<h2 id="яку-структуру-я-повинен-використовувати-для-свого-застосунку">Яку структуру я повинен використовувати для свого застосунку?</h2>
<p>Немає єдиної відповіді на дане питання. Все залежить від розміру вашого застосунку та від команди, яка приймає участь у його розробці. Щоб бути на стільки гнучким, на скільки це можливо, Express не спирається на фіксовану структуру.</p>
<p>Маршрути та інша логіка застосунку може розміщуватись у файлах довільної кількості, та поміщатись в каталоги будь-якої структури. Розгляньте наступні патерни проектування:</p>
<ul>
<li><a href="https://github.com/expressjs/express/blob/4.13.1/examples/route-separation/index.js#L32-47">Списки маршрутів</a></li>
<li><a href="https://github.com/expressjs/express/blob/4.13.1/examples/route-map/index.js#L52-L66">Карта маршрутів</a></li>
<li><a href="https://github.com/expressjs/express/tree/master/examples/mvc">MVC-стиль контролерів</a></li>
</ul>
<p>Також, існують сторонні розширення для Express, які спрощують деякі з перелічених патернів проектування:</p>
<ul>
<li><a href="https://github.com/expressjs/express-resource">Ресурсна маршрутизація</a></li>
</ul>
<h2 id="як-визначати-моделі">Як визначати моделі?</h2>
<p>В Express немає засобів для роботи з базою даних. Їх надають деякі сторонні модулі Node.js, що дозволяють вам взаємодіяти практично з будь-якою базою даних.</p>
<p>Ознайомтесь з <a href="http://loopback.io">LoopBack</a> - цей фреймворк створено на базі Express, він зорієнтований на роботу з моделями.</p>
<h2 id="яким-чином-можна-ідентифікувати-користувачів">Яким чином можна ідентифікувати користувачів?</h2>
<p>Ідентифікація - це ще одна чутлива область, яку Express не ризикнув охопити. Ви можете використовувати будь-яку схему ідентифікації. Проста схема “логін / пароль”, представлена <a href="https://github.com/expressjs/express/tree/master/examples/auth">в цьому прикладі</a>.</p>
<h2 id="які-шаблонізатори-підтримує-express">Які шаблонізатори підтримує Express?</h2>
<p>Express підтримує будь-які шаблонізатори, що узгоджуються з сигнатурою <code>(path, locals, callback)</code>. Додаткову інформацію, стосовно нормалізації інтерфейсів шаблонізаторів та кешування, можна знайти в проекті <a href="https://github.com/visionmedia/consolidate.js">consolidate.js</a>. Цей список може й не містити певних шаблонізаторів, проте вони можуть все ж підтримувати сигнатуру Express.</p>
<h2 id="як-можна-обробляти-404-ті-відповіді">Як можна обробляти 404-ті відповіді?</h2>
<p>В Express, 404-ті відповіді не генеруються в результаті помилок, а тому проміжні обробники помилок не перехоплюють їх. Така поведінка існує оскільки 404-ту відповідь ми отримуємо через відсутність відповідної функції в переліку проміжних обробників при маршрутизації. Все що треба зробити в такому випадку, - це додати проміжну функцію в самий низ черги обробників, яка якраз і буде призначатись для формування 404-тої відповіді:</p>
<pre><code class="language-javascript" translate="no">
app.use(function(req, res, next) {
  res.status(404).send('Вибачте, такої сторінки не існує!');
});
</code></pre>
<h2 id="як-можна-встановити-обробника-помилок">Як можна встановити обробника помилок?</h2>
<p>Проміжні обробники помилок визначаються точно так само, як і інші проміжні обробники, тільки передається до них чотири параметра, а не три; точніше, вони мають таку сигнатуру <code>(err, req, res, next)</code>:</p>
<pre><code class="language-javascript" translate="no">
app.use(function(err, req, res, next) {
  console.error(err.stack);
  res.status(500).send('Щось поламалось!');
});
</code></pre>
<p>Більш детально, можна проглянути розділ <a href="/%7B%7B%20page.lang%20%7D%7D/guide/error-handling.html">обробка помилок</a>.</p>
<h2 id="як-можна-відмальовувати-простий-код-html">Як можна відмальовувати простий код HTML?</h2>
<p>Не треба! Не потрібно “відмальовувати” HTML за допомогою функції <code>res.render()</code>. Якщо ви маєте окремий файл, скористайтесь функцією <code>res.sendFile()</code>. Якщо ви маєте великий набір файлів в певній директорії, використовуйте проміжну функцію <code>express.static()</code>.</p>
</body>
</html>
