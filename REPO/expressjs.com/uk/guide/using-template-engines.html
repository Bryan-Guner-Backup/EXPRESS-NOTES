<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="uk" xml:lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Використання шаблонізаторів в Express</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Використання шаблонізаторів в Express</h1>
</header>
<h1 id="використання-шаблонізаторів-в-express">Використання шаблонізаторів в Express</h1>
<p>A <em>template engine</em> enables you to use static template files in your application. At runtime, the template engine replaces variables in a template file with actual values, and transforms the template into an HTML file sent to the client. This approach makes it easier to design an HTML page.</p>
<p>Some popular template engines that work with Express are <a href="https://pugjs.org/api/getting-started.html">Pug</a>, <a href="https://www.npmjs.com/package/mustache">Mustache</a>, and <a href="https://www.npmjs.com/package/ejs">EJS</a>. The <a href="/%7B%7B%20page.lang%20%7D%7D/starter/generator.html">Express application generator</a> uses Pug as its default, but it also supports several others.</p>
<p>See <a href="https://github.com/expressjs/express/wiki#template-engines">Template Engines (Express wiki)</a> for a list of template engines you can use with Express. See also <a href="https://strongloop.com/strongblog/compare-javascript-templates-jade-mustache-dust/">Comparing JavaScript Templating Engines: Jade, Mustache, Dust and More</a>.</p>
<p>To render template files, set the following <a href="/%7B%7B%20page.lang%20%7D%7D/4x/api.html#app.set">application setting properties</a>:</p>
<ul>
<li><code>views</code>, the directory where the template files are located. Eg: <code>app.set('views', './views')</code>. This defaults to the <code>views</code> directory in the application root directory.</li>
<li><code>view engine</code>, the template engine to use. For example, to use the Pug template engine: <code>app.set('view engine', 'pug')</code>.</li>
</ul>
<p>Then install the corresponding template engine npm package; for example to install Pug:</p>
<pre><code class="language-sh" translate="no">
$ npm install pug --save
</code></pre>
<div class="doc-box doc-notice" data-markdown="1">
<p>Express-compliant template engines such as Pug export a function named <code>__express(filePath, options, callback)</code>, which is called by the <code>res.render()</code> function to render the template code.</p>
<p>Some template engines do not follow this convention. The <a href="https://www.npmjs.org/package/consolidate">Consolidate.js</a> library follows this convention by mapping all of the popular Node.js template engines, and therefore works seamlessly within Express.</p>
</div>
<p>After the view engine is set, you don’t have to specify the engine or load the template engine module in your app; Express loads the module internally, as shown below (for the above example).</p>
<pre><code class="language-javascript" translate="no">
app.set('view engine', 'pug');
</code></pre>
<p>Create a Pug template file named <code>index.pug</code> in the <code>views</code> directory, with the following content:</p>
<pre><code class="language-javascript" translate="no">
html
  head
    title= title
  body
    h1= message
</code></pre>
<p>Then create a route to render the <code>index.pug</code> file. If the <code>view engine</code> property is not set, you must specify the extension of the <code>view</code> file. Otherwise, you can omit it.</p>
<pre><code class="language-javascript" translate="no">
app.get('/', function (req, res) {
  res.render('index', { title: 'Hey', message: 'Hello there!'});
});
</code></pre>
<p>When you make a request to the home page, the <code>index.pug</code> file will be rendered as HTML.</p>
<p>To learn more about how template engines work in Express, see: <a href="/%7B%7B%20page.lang%20%7D%7D/advanced/developing-template-engines.html">“Developing template engines for Express”</a>.</p>
</body>
</html>
