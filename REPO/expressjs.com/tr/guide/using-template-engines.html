<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="tr" xml:lang="tr">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>Express ile şablon motorları kullanmak</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">Express ile şablon motorları kullanmak</h1>
    </header>
    <h1 id="express-ile-şablon-motorları-kullanmak">
      Express ile şablon motorları kullanmak
    </h1>
    <p>
      <em>Şablon motoru</em>, uygulamanızda statik şablon dosyaları kullanmanızı
      sağlar. Çalışma zamanında, şablon motoru bir şablon dosyasındaki
      değişkenleri alıp gerçek değerleyler değiştirir, ve şablonu bir HTML
      dosyasına dönüştürüp istemciye gönderir. Bu yaklaşım bir HTML sayfasını
      tasarlamayı kolaylaştırır.
    </p>
    <p>
      Express ile çalışan bazı popüler şablon motorları:
      <a href="https://pugjs.org/api/getting-started.html">Pug</a>,
      <a href="https://www.npmjs.com/package/mustache">Mustache</a>, ve
      <a href="https://www.npmjs.com/package/ejs">EJS</a>.
      <a href="/%7B%7B%20page.lang%20%7D%7D/starter/generator.html"
        >Express uygulama üreteci (generator)</a
      >
      varsayılan olarak
      <a href="https://www.npmjs.com/package/jade">Jade</a> kullanıyor, ancak
      aynı zamanda diğerlerini de destekler.
    </p>
    <p>
      Express ile kullanabileceğiniz şablon motorları listesi için bakınız
      <a href="https://github.com/expressjs/express/wiki#template-engines"
        >Şablon Motorları (Express wiki)</a
      >. Ayrıca bakınız:
      <a
        href="https://strongloop.com/strongblog/compare-javascript-templates-jade-mustache-dust/"
        >JavaScript Şablonlama Motorlarını Karşılaştırma:: Jade, Mustache, Dust
        ve Daha fazla</a
      >.
    </p>
    <div class="doc-box doc-notice" data-markdown="1">
      <p>
        <strong>Not</strong>: Jade,
        <a href="https://www.npmjs.com/package/pug">Pug</a> olarak değiştirildi.
        Uygulamanızda Jade kullanmaya devam edebilirsiniz, ve problem olmadan
        çalışacaktır. Ancak şablon motorunun en son güncellemelerini almak
        istiyorsanız, uygulamanızda Jade’i Pug ile değiştirmelisiniz.
      </p>
    </div>
    <p>
      Şablon dosyalarını işlemek için, aşağıdaki
      <a href="/%7B%7B%20page.lang%20%7D%7D/4x/api.html#app.set"
        >uygulama ayarları özelliklerini</a
      >
      ayarlayın, üretici (generator) tarafından yaratılan varsayılan uygulamada
      <code>app.js</code> dosyasında ayarlayın:
    </p>
    <ul>
      <li>
        <p>
          <code>views</code>, şablon dosyalarının bulunduğu dizindir. Örnek:
          <code>app.set('views', './views')</code>. Bu varsayılan olarak
          uygulamanın kök dizindeki <code>views</code> dizinine denk gelir.
        </p>
      </li>
      <li>
        <p>
          <code>view engine</code>, kullanılacak şablon motorudur. Örnek olarak,
          Pug şablon motorunu kullanmak için:
          <code>app.set('view engine', 'pug')</code>.
        </p>
      </li>
    </ul>
    <p>
      Daha sonra ise, ilgili şablon motorunun npm paketini yükleyin; örneğin Pug
      yüklemek için:
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode sh"
      ><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1">$ <span class="ex">npm</span> install pug --save</a></code></pre>
    </div>
    <div class="doc-box doc-notice" data-markdown="1">
      <p>
        Jade ve Pug gibi Express-uyumlu şablon motorları, şablon kodunu işlemek
        için <code>res.render()</code> tarafından çağrılan
        <code>__express(filePath, options, callback)</code> isimli bir fonksiyon
        dışa aktarır.
      </p>
      <p>
        Bazı şablon motorları bu anlayışı takip etmez.
        <a href="https://www.npmjs.org/package/consolidate">Consolidate.js</a>
        kütüphanesi bu anlayışı bütün popüler Node.js şablon motorlarını
        eşleyerek (mapping) takip eder, ve dolayısıyla Express içinde sorunsuz
        çalışır.
      </p>
    </div>
    <p>
      Görünüm motoru ayarlandıktan sonra, uygulamanızda motoru tanımlamanıza
      veya şablon motoru modülünü yüklemenize gerek yok; Aşağıda gösterildiği
      gibi (yukarıdaki örnek için) Express, modülü kendi içinde yükler.
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">app</span>.<span class="at">set</span>(<span class="st">&#39;view engine&#39;</span><span class="op">,</span> <span class="st">&#39;pug&#39;</span>)</a></code></pre>
    </div>
    <p>
      Aşağıdaki içerikle, <code>views</code> dizininde
      <code>index.pug</code> adlı bir Pug şablon dosyası yarat:
    </p>
    <pre class="pug"><code>html
  head
    title= title
  body
    h1= message</code></pre>
    <p>
      Ardından, <code>index.pug</code> dosyasını işlemek için bir rota yaratın.
      <code>view engine</code> özelliği ayarlanmadıysa,
      <code>view</code> dosyasının uzantısını belirtmelisiniz. Aksi takdirde
      belirtmenize gerek yok.
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="va">app</span>.<span class="at">get</span>(<span class="st">&#39;/&#39;</span><span class="op">,</span> <span class="kw">function</span> (req<span class="op">,</span> res) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="va">res</span>.<span class="at">render</span>(<span class="st">&#39;index&#39;</span><span class="op">,</span> <span class="op">{</span> <span class="dt">title</span><span class="op">:</span> <span class="st">&#39;Hey&#39;</span><span class="op">,</span> <span class="dt">message</span><span class="op">:</span> <span class="st">&#39;Hello there!&#39;</span> <span class="op">}</span>)</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="op">}</span>)</a></code></pre>
    </div>
    <p>
      Ana sayfaya bir istek yaptığınızda, <code>index.pug</code> dosyası HTML
      olarak gösterilecek.
    </p>
    <p>
      Not: Görünüm motoru önbelleği şablonun çıktısını önbelleğine almaz, sadece
      şablonun temelini alır. Önbellek açık olsa bile, görünüm her istekle
      beraber yeniden işlenir.
    </p>
    <p>
      Şablon motorlarının Express’te nasıl çalıştıkları ile ilgili daha fazla
      bilgi için bakınız:
      <a
        href="/%7B%7B%20page.lang%20%7D%7D/advanced/developing-template-engines.html"
        >“Express için şablon motorları geliştirme”</a
      >.
    </p>
  </body>
</html>
