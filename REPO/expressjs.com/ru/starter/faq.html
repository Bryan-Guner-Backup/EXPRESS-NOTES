<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Часто задаваемые вопросы (FAQ) по Express</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Часто задаваемые вопросы (FAQ) по Express</h1>
</header>
<h1 id="часто-задаваемые-вопросы-faq">Часто задаваемые вопросы (FAQ)</h1>
<h2 id="какую-структуру-мне-следует-использовать-для-своего-приложения">Какую структуру мне следует использовать для своего приложения?</h2>
<p>Нет единого ответа на данный вопрос. Все зависит от размеров приложения и участвующей в разработке команды. В целях обеспечения максимальной гибкости, в Express не предусмотрены какие бы то ни было предпосылки в отношении структуры.</p>
<p>Маршруты и другая логика приложений могут размещаться в любом количестве файлов, на ваше усмотрение, и в любой структуре каталогов, которую вы предпочтете. В качестве источника вдохновения, ознакомьтесь со следующими примерами:</p>
<ul>
<li><a href="https://github.com/expressjs/express/blob/4.13.1/examples/route-separation/index.js#L32-47">Объявления маршрутов</a></li>
<li><a href="https://github.com/expressjs/express/blob/4.13.1/examples/route-map/index.js#L52-L66">Карта маршрутов</a></li>
<li><a href="https://github.com/expressjs/express/tree/master/examples/mvc">Контроллеры в MVC стиле</a></li>
</ul>
<p>Также существуют сторонние расширения для Express, упрощающие некоторые из этих шаблонов:</p>
<ul>
<li><a href="https://github.com/expressjs/express-resource">Ресурсная маршрутизация</a></li>
</ul>
<h2 id="как-определить-модели">Как определить модели?</h2>
<p>В Express нет средств для работы с базой данных. Их предоставляют исключительно сторонние модули Node, что позволяет вам взаимодействовать практически с любой базой данных.</p>
<p>Фреймворк на базе Express, ориентированный на работу с моделями, описан в разделе <a href="http://loopback.io">LoopBack</a>.</p>
<h2 id="как-идентифицировать-пользователей">Как идентифицировать пользователей?</h2>
<p>Аутентификация - это еще одна своеобразная область, которую Express не охватывает. Можно использовать любую схему аутентификации, по вашему желанию. Простая схема “имя пользователя / пароль” представлена в <a href="https://github.com/expressjs/express/tree/master/examples/auth">следующем примере</a>.</p>
<h2 id="какие-шаблонизаторы-поддерживает-express">Какие шаблонизаторы поддерживает Express?</h2>
<p>Express поддерживает все шаблонизаторы, согласующиеся с сигнатурой <code>(path, locals, callback)</code>. Дополнительную информацию о нормализации интерфейсов шаблонизации и кеширования можно найти в проекте <a href="https://github.com/visionmedia/consolidate.js">consolidate.js</a>. Не представленные в списке шаблонизаторы также могут поддерживать сигнатуру Express.</p>
<h2 id="как-обрабатывать-ошибки-404">Как обрабатывать ошибки 404?</h2>
<p>В Express код 404 не является результатом ошибки. Обработчик ошибок не фиксирует их, потому что код ответа 404 указывает лишь на факт отсутствия дополнительной работы. Другими словами, Express выполнил все функции промежуточной обработки и маршруты и обнаружил, что ни один из них не отвечает. Все, что вам нужно сделать, - добавить промежуточный обработчик в конец стека (после всех остальных функций) для обработки кода 404:</p>
<pre>
<code class="language-javascript" translate="no">
app.use(function(req, res, next) {
  res.status(404).send('Sorry cant find that!');
});
</code>
</pre>
<h2 id="как-определяется-обработчик-ошибок">Как определяется обработчик ошибок?</h2>
<p>Функции промежуточного обработчика для обработки ошибок определяются так же, как и другие промежуточные обработчики, но с указанием не трех, а четырех аргументов в сигнатуре <code>(err, req, res, next)</code>).</p>
<pre>
<code class="language-javascript" translate="no">
app.use(function(err, req, res, next) {
  console.error(err.stack);
  res.status(500).send('Something broke!');
});
</code>
</pre>
<p>Дополнительная информация содержится в разделе <a href="/%7B%7B%20page.lang%20%7D%7D/guide/error-handling.html">Обработка ошибок</a>.</p>
<h2 id="как-отобразить-простой-html-файл">Как отобразить простой HTML-файл?</h2>
<p>Вам не нужно этого делать! Нет необходимости отображать HTML с помощью функции <code>res.render()</code>. Если у вас есть отдельный файл, воспользуйтесь функцией <code>res.sendFile()</code>. В случае предоставления нескольких ресурсов из каталога воспользуйтесь промежуточным обработчиком <code>express.static()</code>.</p>
</body>
</html>
